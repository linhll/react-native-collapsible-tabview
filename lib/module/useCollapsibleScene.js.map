{"version":3,"sources":["useCollapsibleScene.tsx"],"names":["Animated","useCollapsibleContext","useCollapsibleScene","routeKey","context","activeRouteKey","scrollY","buildGetRef","headerHeight","tabBarHeight","containerHeight","appBarHeight","rest","scrollEnabled","onScroll","event","nativeEvent","contentOffset","y","useNativeDriver","undefined","ref","contentContainerStyle","paddingTop","minHeight","progressViewOffset"],"mappings":"AAAA,SAASA,QAAT,QAAyB,cAAzB;AAIA,SAASC,qBAAT,QAAsC,6BAAtC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,mBAAmB,GACvBC,QAD0B,IAEM;AAChC,QAAMC,OAAO,GAAGH,qBAAqB,EAArC;AAEA,QAAM;AACJI,IAAAA,cADI;AAEJC,IAAAA,OAFI;AAGJC,IAAAA,WAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA,YALI;AAMJC,IAAAA,eANI;AAOJC,IAAAA,YAPI;AAQJ,OAAGC;AARC,MASFR,OATJ;AAWA,QAAMS,aAAa,GAAGV,QAAQ,KAAKE,cAAnC;AAEA,QAAMS,QAAQ,GAAGD,aAAa,GAC1Bb,QAAQ,CAACe,KAAT,CAAe,CAAC;AAAEC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,aAAa,EAAE;AAAEC,QAAAA,CAAC,EAAEZ;AAAL;AAAjB;AAAf,GAAD,CAAf,EAAqE;AACnEa,IAAAA,eAAe,EAAE;AADkD,GAArE,CAD0B,GAI1BC,SAJJ;AAMA,SAAO;AACLP,IAAAA,aADK;AAELC,IAAAA,QAFK;AAGLO,IAAAA,GAAG,EAAEd,WAAW,CAACJ,QAAD,CAHX;AAILmB,IAAAA,qBAAqB,EAAE;AACrBC,MAAAA,UAAU,EAAEf,YAAY,GAAGC,YADN;AAErBe,MAAAA,SAAS,EAAEd,eAAe,GAAGF,YAAlB,GAAiCG;AAFvB,KAJlB;AAQLc,IAAAA,kBAAkB,EAAEjB,YAAY,GAAGC,YAR9B;AASLA,IAAAA,YATK;AAUL,OAAGG;AAVE,GAAP;AAYD,CApCD;;AAsCA,eAAeV,mBAAf","sourcesContent":["import { Animated } from 'react-native';\nimport { Route } from 'react-native-tab-view';\n\nimport type { CollapsibleScenePropsAndRef } from './types';\nimport { useCollapsibleContext } from './CollapsibleTabViewContext';\n\n/**\n *\n * @param routeKey key of the current scene\n *\n * Get all props for the animated component\n * in order to make the collapsible tabs work.\n *\n * Works with:\n *\n * - Animated.ScrollView\n * - Animated.FlatList\n *\n * ```js\n * const sceneProps = useCollapsibleScene('routeKey')\n * <Animated.FlatList\n *    {...sceneProps}\n *    data={data}\n *    renderItem={renderItem}\n * />\n * ```\n */\nconst useCollapsibleScene = <T extends Route>(\n  routeKey: T['key']\n): CollapsibleScenePropsAndRef => {\n  const context = useCollapsibleContext();\n\n  const {\n    activeRouteKey,\n    scrollY,\n    buildGetRef,\n    headerHeight,\n    tabBarHeight,\n    containerHeight,\n    appBarHeight,\n    ...rest\n  } = context;\n\n  const scrollEnabled = routeKey === activeRouteKey;\n\n  const onScroll = scrollEnabled\n    ? Animated.event([{ nativeEvent: { contentOffset: { y: scrollY } } }], {\n        useNativeDriver: true,\n      })\n    : undefined;\n\n  return {\n    scrollEnabled,\n    onScroll,\n    ref: buildGetRef(routeKey),\n    contentContainerStyle: {\n      paddingTop: headerHeight + tabBarHeight,\n      minHeight: containerHeight + headerHeight - appBarHeight,\n    },\n    progressViewOffset: headerHeight + tabBarHeight,\n    tabBarHeight,\n    ...rest,\n  };\n};\n\nexport default useCollapsibleScene;\n"]}